<div data-section-id="{{ section.id }}"  data-section-type="testimonial-wrap" class="{% if section.settings.parallax_enable %} parallex {% endif %}{% if section.settings.invert_enable %} invert_true {% endif %} tt-testimonial-wrap bottom-to-top hb-animate-element"  data-source-url="{{ section.settings.bg_img | img_url: 'master' }}" style="{% if section.settings.use_bg %}background-image: url('{{ section.settings.bg_img | img_url: "master" }}');{% endif %}background-color:{{ section.settings.bg_color }}; {% if section.settings.parallax_enable %} background-position: 50% 65.8718%;{% endif %}">
    <div class="container">
    <div class="container-bg">
      {% if section.settings.title != blank  %}
      <div class="section-header section-header--small">
        <div class="border-title">
          {% endif %}            
        {% if section.settings.title != blank %}
        <h2 class="tt-title" style="color:{{section.settings.title_color }}">{{ section.settings.title }}</h2>  
        {% endif %}
        {% if section.settings.sub_title != blank %}
          <div class="short-desc"> <p style="color:{{section.settings.sub_title_color }}">{{ section.settings.sub_title }}</p>  </div>
        {% endif %}
      {% if section.settings.title != blank  %}
        </div>
      </div>    
    <div class="dt-sc-hr-invisible-small"></div>
      {% endif %}
      <div class="grid__item testimonials_wrap owl-carousel">
        {% if section.blocks.size > 0 %}  
        {% for block in section.blocks %}    
        
         {%- assign block_width = 'small-grid__item' -%}      
        <div class="grid__item {{ block_width }}"> 
          <div class="testimonial-block">
            <div class="grid__item col-xs-12 author-detail"> 
              <div class="authorimg testimonial-image">
                {% if  block.settings.image_1 != blank %}
                <img src="{{  block.settings.image_1 | img_url: "master" }}" alt="{{  block.settings.image_1_heading }}" />
                {% endif %} 
              </div>
              <div class="user-deatil">
                {% if block.settings.author_name != blank %}
                <div class="testimonial-user-title">
                <h4 style="color:{{block.settings.author_color }}">{{ block.settings.author_name }} </h4>
                </div>
                <div class="testimonial-user-desc"><span style="color:{{block.settings.author_descolor }}">{{ block.settings.author_designation }}</span></div>
                {% endif %}
              </div>
            </div>
            <div class="grid__item col-xs-12 description"> 
              <div class="testimonial-detail">
               
                <div class="testimonial-content">
                  <div class="testimonial-desc">
                  {% if block.settings.text_desc != blank %}
                  <p style="color:{{block.settings.des_color }}">{{ block.settings.text_desc }}</p>
                  </div>
                  {% endif %} 
                </div>
               
              </div>
            </div>
            
          </div>
        </div>
        {% endfor %}         
        {% endif %}   
      </div>
    </div> 
    </div>
  </div>

{% schema %}
{
  "name": "Testimonials",
   "max_blocks":6,
   "class":"testimonials",
  "settings": [
          {
          "type": "color",
          "id": "bg_color",
          "label": "Bg Color",
          "default":"#000"
          },
			{
            "type": "image_picker",
            "id": "bg_img",
            "label": "background image"
          },
			{
              "type": "checkbox",
              "id": "use_bg",
              "label": "Show Backgorund Image"
            },
			{
              "type": "checkbox",
              "id": "parallax_enable",
              "label": "Show Parallax scroll"
            },
			{
              "type": "checkbox",
              "id": "invert_enable",
              "label": "Show Invert scroll"
            },
          {
          "type": "text",
          "id": "title",
          "label": "Heading"
          },
          {
          "type": "color",
          "id": "title_color",
          "label": "Title Color",
          "default":"#000"
          },
          {
          "type": "text",
          "id": "sub_title",
          "label": "Sub Heading"
          },
          {
          "type": "color",
          "id": "sub_title_color",
          "label": "Title Color",
          "default":"#000"
          }

          ],
          "blocks": [
          {
          "type": "text",
          "name": "Testimonial",
          "settings": [

          {
          "type": "textarea",
          "id": "text_desc",
          "label": "Description"
          },
          {
          "type": "color",
          "id": "des_color",
          "label": "Description Color",
          "default":"#000"
          },
          {
          "type": "image_picker",
          "id": "image_1",
          "label": "Image",
          "info": "Size: 140x140"
          },
          {
          "type": "text",
          "id": "image_1_heading",
          "label": "Image"
          },
          {
          "type": "text",
          "id": "author_name",
          "label": "author name"
          },
          {
          "type": "text",
          "id": "author_designation",
          "label": "Designation"
          },
          {
          "type": "color",
          "id": "author_color",
          "label": "Author Color",
          "default":"#000"
          },
          {
          "type": "color",
          "id": "author_descolor",
          "label": "Designation Color",
          "default":"#000"
          }
          ]
          }
          ],
 "presets": [
    {
     "name": "Testimonials",
      "category": "TemplateTrip",
      "blocks": [
        {
          "type": "text"
        },
		{
          "type": "text"
        },
        {
          "type": "text"
        }       
 		
      ]
    }
  ]
}
{% endschema %}

{% javascript %}
$(document).ready(function() {
 $('body:not(.rtl) .tt-testimonial-wrap .testimonials_wrap').owlCarousel({
              items : 1, //1 items above 1000px browser width
              nav : false,
              dots : true,			
				loop:true,
			  autoplay:true,
              autoplayHoverPause:true,
            responsive: {
                      1279: {
                        items: 1
                      },
                      1250: {
                        items: 1
                      },
                      600: {
                        items: 1
                      }
                    }
          });
 $('body.rtl .tt-testimonial-wrap .testimonials_wrap').owlCarousel({
              items : 1, //1 items above 1000px browser width
              nav : false,
              rtl: true,
              dots : true,
			  autoplay:true,
				loop:true,
              autoplayHoverPause:true,
            responsive: {
                      1279: {
                        items: 1
                      },
                      1250: {
                        items: 1
                      },
                      600: {
                        items: 1
                      }
                    }
          });
});
{% endjavascript %}


{% if section.settings.parallax_enable %}
{{ 'parallax.min.js' | asset_url | script_tag }}

<script>
      jQuery(document).ready(function() {			
        "use strict";
/* ------------ Start TemplateTrip Parallax JS ------------ */
        var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent);
        if(!isMobile) {
            if(jQuery(".parallex").length){
              jQuery(".parallex:not(.invert_true)").sitManParallex({					
                    	invert: false
                });
            };  
           if(jQuery(".parallex.invert_true").length){
                jQuery(".parallex").sitManParallex({					
                    	invert: true
                });
            };  
        }else{
            jQuery(".parallex:not(.invert_true)").sitManParallex({
                invert: true
            });
          jQuery(".parallex.invert_true").sitManParallex({
                invert: true
            });
        }	
        /* ------------ End TemplateTrip Parallax JS ------------ */
      });
</script>
{% endif %}